<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>

  <form-beans>
    <form-bean name="phenotypeForm" type="org.apidb.apicommon.controller.PhenotypeForm"/>
    <form-bean name="commentForm" type="org.apidb.apicommon.controller.NewCommentForm"/> 
    <form-bean name="editCommentForm" type="org.apidb.apicommon.controller.EditCommentForm"/> 
    <form-bean name="showCommentForm" type="org.apidb.apicommon.controller.ShowCommentForm"/>
    <form-bean name="deleteCommentForm" type="org.apidb.apicommon.controller.DeleteCommentForm"/>
    <form-bean name="userFileUploadForm" type="org.apidb.apicommon.controller.UserFileUploadForm"/>
  </form-beans>

  <action-mappings>
    <action path="/processLogin"
        parameter="org.apidb.apicommon.controller.action.CustomProcessLoginAction"
        type="org.gusdb.wdk.controller.actionutil.WdkActionWrapper">
      <!-- In most success cases, action will forward directly to original referring page -->
      <forward name="success" path="/showApplication.do" redirect="true"/>
      <forward name="input" path="/wdkCustomization/jsp/Login.jsp"/>
    </action>
    <action
      path="/processBasket"
      type="org.apidb.apicommon.controller.action.CustomProcessBasketAction"
      scope="request"
      validate="false">
    </action>
    <action
      path="/showQuestion"
      type="org.apidb.apicommon.controller.action.CustomShowQuestionAction"
      scope="request"
      validate="false"
      name="questionForm">
      <forward name="skip_to_summary" path="/showSummary.do"/>
    </action>
    <action
      path="/showRecord"
      type="org.apidb.apicommon.controller.action.CustomShowRecordAction"
      scope="request">
      <forward name="show_record" path="/record.jsp"/>
      <forward name="run-question" path="/processQuestion.do?questionFullName=GeneQuestions.GeneBySingleLocusTag&amp;value(single_gene_id)=${SOURCE_ID}&amp;questionSubmit=Get+Answer"/>
    </action>
   <action
      path="/addComment"
      type="org.apidb.apicommon.controller.NewCommentAction"
      scope="session"
      input="/addCommentsNew.jsp"
      name="commentForm">
   </action> 
   <action
      path="/editComment"
      type="org.apidb.apicommon.controller.EditCommentAction"
      scope="request"
      input="/showComments.jsp"
      name="editCommentForm">
      <forward name="add_comment" path="/addComment.do"/>
   </action> 
   <action
      path="/addPhenotype"
      type="org.apidb.apicommon.controller.PhenotypeAction"
      scope="request"
      input="/addPhenotype.jsp"
      name="phenotypeForm">
      <forward name="add_phenotype" path="/addPhenotype.do"/>
   </action> 
   <action
      path="/showComment"
      type="org.apidb.apicommon.controller.ShowCommentAction"
      scope="session"
      name="showCommentForm">
      <forward name="show_comment" path="/showComment.jsp"/>
    </action>
   <action
      path="/deleteComment"
      type="org.apidb.apicommon.controller.DeleteCommentAction"
      scope="session"
      name="deleteCommentForm">
    </action>
    <action
      path="/goRemote"
      type="org.gusdb.wdk.controller.action.services.RemoteLoginAction"
      scope="request">
    </action>
    <action
      path="/communityUpload"
      type="org.apidb.apicommon.controller.UserFileUploadAction"
      scope="request"
      input="/communityUpload.jsp"
      name="userFileUploadForm">
      <forward name="community_upload" path="/communityUploadResult.jsp"/>
   </action>
    <action
      path="/communityDownload"
      type="org.apidb.apicommon.controller.UserFileDownloadAction"
      name="communityDownload"
      scope="request">
      <forward name="isDir" path="/common/community"/>
      <forward name="fileNotFound" path="/404.jsp"/>
   </action>
    <action
      path="/getDataset"
      type="org.apidb.apicommon.controller.action.GetDatasetAction"
      scope="request">
      <forward name="show_list" redirect="false" path="/wdkCustomization/jsp/DatasetList.jsp"/>
      <forward name="show_detail" redirect="false" path="/wdkCustomization/jsp/DatasetDetail.jsp"/>
      <forward name="show_xml_list" redirect="false" path="/showXmlDataList.do?name=XmlQuestions.Datasets"/>
      <forward name="show_xml_detail" redirect="false" path="/showXmlDataContent.do?name=XmlQuestions.Datasets"/>
    </action>
    <action
      path="/exportBasket"
      type="org.apidb.apicommon.controller.action.ExportBasketAction"
      scope="request"
      validate="false">
    </action>
    <action
      path="/exportCytoscapeNetwork"
      type="org.apidb.apicommon.controller.action.ExportCytoscapeNetworkAction"
      scope="request"
      validate="false">
    </action>

    <action
      path="/siteSearch"
      type="org.apidb.apicommon.controller.action.SiteSearchAction"
      validate="false">
      <forward name="to-question" redirect="false" path="/processQuestion.do?questionSubmit=Get+Answer"/>
      <forward name="to-summary" redirect="false" path="/wdkCustomization/jsp/SiteSearchSummary.jsp"/>
      <forward name="to-html" redirect="false" path="/wdkCustomization/jsp/HtmlSearchSummary.jsp" />
    </action>

  </action-mappings>

</struts-config>
