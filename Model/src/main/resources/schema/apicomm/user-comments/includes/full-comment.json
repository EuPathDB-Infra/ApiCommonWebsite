{
  "$schema": "http://json-schema.org/draft-04/schema",
  "type": "object",
  "definitions": {
    "referenceId": {
      "description": "Reference resource id",
      "type": "string",
      "maxLength": 100
    }
  },
  "properties": {
    "id": {
      "description": "Comment database ID",
      "type": "integer",
      "minimum": 1,
    },
    "title": {
      "description": "Comment headline",
      "type": "string",
      "maxLength": 2000
    },
    "body": {
      "description": "Comment body text",
      "type": "string"
    },
    "location": {
      "description": "Comment locations",
      "$ref": "/schema/apicomm/user-comments/includes/location.json"
    },
    "dois": {
      "description": "Digital Object Identifiers",
      "type": "array",
      "items": {
        "$ref": "#/definitions/referenceId"
      }
    },
    "pubMedIds": {
      "description": "IDs of resources on PubMed",
      "type": "array",
      "items": {
        "$ref": "#/definitions/referenceId"
      }
    },
    "accessions": {
      "description": "GenBank accession numbers",
      "type": "array",
      "items": {
        "$ref": "#/definitions/referenceId"
      }
    },
    "categories": {
      "description": "Comment category IDs",
      "type": "array",
      "items": {
        "type": "integer"
      }
    },
    "target": {
      "$ref": "/schema/apicomm/user-comments/includes/target.json"
    },
    "author": {
      "description": "Comment author user id",
      "type": "integer"
    },
    "organism": {
      "description": "Comment target organism",
      "type": "string",
      "maxLength": 100
    },
    "relatedGenes": {
      "description": "Other genes relevant to this comment",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "files": {
      "description": "Attachment files",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "description": "Attachment ids",
            "type": "integer",
            "minimum": 1
          },
          "name": {
            "description": "Attachment file name",
            "type": "string"
          },
          "description": {
            "description": "Attachment file description",
            "type": "string"
          },
          "preview": {
            "description": "Optional file preview URL for image attachments",
            "type": "string"
          }
        }
      }
    }
  },
  "required": [
    "id",
    "title",
    "body",
    "target",
    "author"
  ]
}
