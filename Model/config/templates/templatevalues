# 
#   configula -e production  --alogin mheiges --adb cryp500n --udb apicommN q1.cryptodb.org
#   tmpl -e production
#   or VER_ENV=production tmpl
#
#
# Versions of this file goes in ApiCommonWebsite, OrthoMCLWebsite, FungiDBWebsite



default: &DEFAULT

##    product : AmoebaDB # || ToxoDB ; This is already defined in tomcat deployment descriptor so Application already knows this
    
##    lc_product : amoebadb # Application should be able to provide this
    
    model_name : apiCommonModel # || OrthMCL
    support_email : help@${lc_product}.org
    default_role : wdk_user
    slow_query_threshold : 1
    broken_query_threshold : 7
    database_platform : Oracle
    ws_base_path : /var/www/Common/apiSiteFilesMirror/webServices

##    release_number : 5.0 # defined in ${model_name}.xml; Application already knows this.

    mercator_output_dir : ${ws_base_path}/${product}/release-${release_number}/mercator_pairwise
    
    appdb:
        max_active : 10
        min_idle : 1
        max_idle : 10
        max_wait  :  300
        show_connections : false
        show_connections_duration : 600
    
    userdb:
        max_active : 1
        max_idle : 1
        min_idle : 1
        max_wait  :  200
        show_connections : true
        show_connections_duration : 600
    
    commentdb:
        max_active : 10
        min_idle : 1
        max_idle : 1
        max_wait  :  13
        show_connections : false
        show_connections_duration : 10
        comment_schema : comments2
        user_file_schema : uploads
        userdb_userschema : userlogins3.
        wdk_engine_schema : wdkengine.

    
    auth_secret_key_file: /usr/local/tomcat_instances/shared/.apidb_wdk_key
    smtp_server : 127.0.0.1
    user_file_upload_dir : /var/www/Common/communityFilesMirror


    email_content : |
        <p>Thank you for registering at ${product}.</p>
        <p>Your temporary password is: \$\$PASSWORD\$\$</p>
        <p>You may now login to <a href="http://${this_website}/">${product}</a>.</p>
        <p>Thank you,</p>
        <p>${product}</p>
        
    apifed_url : 
        cryptodb : http://integrate.cryptodb.org/cryptodb/services/WsfService
        toxodb : http://integrate.toxodb.org/toxo/services/WsfService
        microsporidiadb : http://integrate.microsporidiadb.org/micro/services/WsfService

production: &PRODUCTION
    <<: *DEFAULT
    max_active : 50
    max_idle : 5
    min_idle : 5
    max_wait  :  100
    show_connections : false
    show_connections_duration : 600
    apifed_url : 
        cryptodb : http://cryptodb.org/cryptodb/services/WsfService
        toxodb : http://toxodb.org/toxo/services/WsfService
        microsporidiadb : http://microsporidiadb.org/micro/services/WsfService
        
staging : &STAGING
    <<: *DEFAULT
    max_active : 10
    max_idle : 5
    min_idle : 5
    max_wait  :  10
    show_connections : true
    show_connections_duration : 600

